<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>{{ page.title | default: "Portfolio" }}</title>
  <style>
    body{font-family:Arial, sans-serif;max-width:900px;margin:2rem auto;padding:0 1rem; background-color: black; color: white}

    .grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    }
    /* Mobile: 1 Spalte unter 1000px Breite */
    @media (max-width: 1000px) {
      .grid {
        grid-template-columns: 1fr;
        gap: 3rem;
        padding: 0 1rem; /* Abstand zur Seite */
      }

      .card {
        padding: 1rem;
        }
    }

    .card {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
    transition: all 0.3s ease;
    background-color: black;
        xtransition: transform 0.3s, background-image 0.3s;
    }

/* Hover nur auf Geräten mit Mauszeiger */
@media (hover: hover) and (pointer: fine) {
  .card:hover {
    background-image:     
    linear-gradient(rgba(0, 0, 0, 0.5), rgba(255, 255, 255, 0.8)),
    var(--hover-bg);
    background-size: cover;
    background-position: center;
    color: white;
    transform: scale(1.05);
    border: none;
  }
}

.card.active {
    background-image:     
    linear-gradient(rgba(0, 0, 0, 0.5), rgba(255, 255, 255, 0.8)),
    var(--hover-bg);
  background-size: cover;
  background-position: center;
  color: white;
  transform: scale(1.05);
  border: none;
}

    .card img{max-width:100%;height:auto;border-radius:4px;margin-bottom:.75rem}
    
    .card a{display:inline-block;margin-top:.5rem;font-weight:italic;text-decoration:none;color:#0366d6;}

    h1{font-size: 50px;}
    h3{font-size: 28px;}
    h4{font-size: 15px;}

    .leftAlign{text-align: left;}
    .noMargin{margin: 1px;}
    .fade{opacity: 0.5;}
    .makeSpace{margin: 5rem 0 5rem 0;}
  </style>
</head>
<body>
  <h1>{{ page.title }}</h1>
  {{ content }}

  <div class = "makeSpace">
  {% for category in site.data.projects %}
    <!--<h2>{{ category.name }}</h2>-->
    <div class="grid">
      {% for project in category.projects %}
      <div class="card" style="--hover-bg: url('{{ project.image }}');">
            <h3 class = "leftAlign noMargin">{{ project.name }}</h3>
            <h4 class = "leftAlign noMargin">{{ project.year }}</h4>
            <h4 class = "leftAlign noMargin fade">{{ project.place }}</h4>
            <p>{{ project.description }}</p>
            <img src="{{ project.image }}" alt="{{ project.name }}">
            <a href="{{ project.url }}" target="_blank" rel="noopener">Mehr erfahren</a>
        </div>
      {% endfor %}
    </div>
  {% endfor %}
  </div>

</body>
<script>
    if (window.innerWidth <= 1000) {
      const cards = document.querySelectorAll('.card');
  
      function getClosestCardToCenter() {
        let closestCard = null;
        let minDistance = Infinity;
        const centerY = window.innerHeight / 2;
  
        cards.forEach(card => {
          const rect = card.getBoundingClientRect();
          const cardCenterY = rect.top + rect.height / 2;
          const distance = Math.abs(centerY - cardCenterY);
  
          if (distance < minDistance) {
            minDistance = distance;
            closestCard = card;
          }
        });
  
        // Nur eine Karte aktiv machen
        cards.forEach(card => card.classList.remove('active'));
        if (closestCard) {
          closestCard.classList.add('active');
        }
      }
  
      // Beim Scrollen und Resizen prüfen
      window.addEventListener('scroll', getClosestCardToCenter);
      window.addEventListener('resize', getClosestCardToCenter);
  
      // Direkt initial prüfen
      getClosestCardToCenter();
    }
  </script>
  
</html>
